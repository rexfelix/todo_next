# Todo List 애플리케이션 작동 구조

## 1. 상태 관리 구조

### 1.1 메인 상태 (page.js)
- `todos`: 전체 할일 목록을 관리하는 상태
  - localStorage와 연동되어 데이터 영속성 보장
  - 각 todo 항목은 {id, text, completed, priority, completedAt} 구조
- `input`: 새로운 할일 입력을 위한 상태
- `priority`: 새로운 할일의 우선순위 설정을 위한 상태

### 1.2 상태 업데이트 흐름
1. 사용자 액션 발생 (추가/삭제/수정)
2. 상태 업데이트 함수 호출 (setTodos)
3. localStorage 자동 동기화 (useEffect)
4. todoUpdate 이벤트 발생
5. 대시보드 통계 자동 업데이트

## 2. 컴포넌트 구조와 역할

### 2.1 페이지 컴포넌트
- `page.js`: 메인 페이지
  - 전체 상태 관리
  - 하위 컴포넌트 조율
- `dashboard/page.js`: 대시보드 페이지
  - 통계 정보 표시
  - todoUpdate 이벤트 구독

### 2.2 기능 컴포넌트
- `Navbar`: 네비게이션 제공
- `TodoForm`: 새로운 할일 입력 처리
- `TodoList`: 할일 목록 표시
- `TodoItem`: 개별 할일 항목 관리

## 3. 데이터 흐름

### 3.1 새로운 할일 추가 과정
1. TodoForm에서 입력 받음
2. addTodo 함수 호출
3. todos 상태 업데이트
4. localStorage 저장
5. UI 자동 업데이트

### 3.2 할일 상태 변경 과정
1. TodoItem에서 상태 변경 트리거
2. 해당 함수 호출 (toggleTodo/changePriority/deleteTodo)
3. todos 상태 업데이트
4. localStorage 저장
5. UI 자동 업데이트

## 4. 주요 기능 구현 방식

### 4.1 우선순위 시스템
- 3단계 우선순위 (높음/중간/낮음)
- 우선순위별 색상 구분
- 우선순위 기반 정렬 로직

### 4.2 완료 처리 시스템
- 완료 시간 기록
- 완료된 항목 별도 관리
- 시간순 정렬 로직

### 4.3 데이터 영속성
- localStorage 활용
- JSON 형태로 데이터 저장/로드
- 페이지 새로고침 시에도 데이터 유지

## 5. 이벤트 처리 시스템

### 5.1 사용자 이벤트
- 클릭 이벤트: 추가/삭제/완료 처리
- 변경 이벤트: 우선순위 수정
- 키보드 이벤트: Enter로 추가

### 5.2 커스텀 이벤트
- todoUpdate: 상태 변경 알림
- 대시보드 통계 업데이트 트리거

## 6. 스타일링 시스템

### 6.1 Tailwind CSS 활용
- 반응형 디자인
- 우선순위별 색상 구분
- 다크모드 지원

### 6.2 UI/UX 고려사항
- 직관적인 인터페이스
- 시각적 피드백
- 사용자 편의성 최적화 